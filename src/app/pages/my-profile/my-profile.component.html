<div class="user-profile-wrapper">
  <div class="profile-banner"
    [ngStyle]="{'background-image':localCoverImageUrl?'url('+sanitize(localCoverImageUrl) +')':profileDetail?.cover_image? ' url(' +baseImgUrl+profileDetail?.cover_image + ')':'url(../../../assets/images/nft/john_doe_cover.png)','background-position-y':profileDetail?.cover_image_y_axis?profileDetail?.cover_image_y_axis+'%':50+'%'}"
    style='background-position-x:0px ; background-position-y: center;background-repeat: no-repeat;background-size: cover;'>
  </div>
  <div class="profile-content text-center">
    <div class="container position-relative">
      <div class="user-profile gradient-profile">
        <img
          [src]="localProfileImageUrl ? sanitize(localProfileImageUrl) : profileDetail?.profile_pic ? baseImgUrl + profileDetail?.profile_pic : '../../../assets/images/nft/profile_placeholder.png'" />
      </div>
      <h3 class="fw-bold  mb-lg-4 mb-3">
        {{profileDetail?.first_name}} {{profileDetail?.last_name}}
        <span *ngIf="profileDetail?.is_user_verified" class="ms-2"><img
            src="../../../assets/images/pages/check_tick.svg" /></span>
      </h3>
      <div class="d-flex align-items-center justify-content-center mb-3">
        <h6 class="mb-0"><span class="gradient-text">@{{profileDetail?.user_name}}</span></h6>
        <div class="d-flex align-items-center ms-4">
          <p class="mb-0">Acc. ID</p>
          <h6 class="mb-0 fw-bold mx-2">{{profileDetail?.account_id !="0"
            ?profileDetail?.account_id:profileDetail?.wallet_address.slice(0,7)+'...'
            +profileDetail?.wallet_address.slice(-4)}}</h6>
          <button class="btn-icon" (click)="copy(profileDetail?.wallet_address)">
            <img src="../../../assets/images/pages/copy.svg" />
          </button>
        </div>
      </div>
      <p class="fw-semi-bold mb-lg-5 mb-sm-4 mb-3">
        {{profileDetail?.bio}}
      </p>
      <div class="row profile-detail mx-0">
        <div class="col px-0">
          <div class="pd-col">
            <p class="mb-2">Followers</p>
            <h6 class="mb-0 fw-bold">{{profileDetail?.follower_count}}</h6>
          </div>
        </div>
        <div class="col px-0">
          <div class="pd-col">
            <p class="mb-2">Following</p>
            <h6 class="mb-0 fw-bold">{{profileDetail?.following_count}}</h6>
          </div>
        </div>
        <div class="col px-0">
          <div class="pd-col">
            <p class="mb-2">NFTs</p>
            <h6 class="mb-0 fw-bold">{{profileDetail?.nft_count}}</h6>
          </div>
        </div>
        <div class="col px-0">
          <div class="pd-col">
            <p class="mb-2">Collections</p>
            <h6 class="mb-0 fw-bold">{{profileDetail?.collection_count}}</h6>
          </div>
        </div>
        <div class="col px-0">
          <div class="pd-col">
            <p class="mb-2">Owners</p>
            <h6 class="mb-0 fw-bold">{{profileDetail?.owner_count}}</h6>
          </div>
        </div>
        <div class="col px-0">
          <div class="pd-col">
            <p class="mb-2">Favorites</p>
            <h6 class="mb-0 fw-bold">{{profileDetail?.favourite_count}}</h6>
          </div>
        </div>
      </div>
      <div class="row profile-detail mx-0">
        <div class="col-md-12">
          <div class="pd-col d-flex align-items-center">
            <p class="mb-0 pe-4">Memberships</p>
            <h6 class="mb-0 fw-bold">
              <span class="row ms-2 justify-content-between">
                <ng-container *ngFor="let membership of profileDetail?.memberships">
                  <div class="col">
                    <div class="pe-5">
                      <img
                        [src]="membership.profile_pic?baseImgUrl+membership.profile_pic:'../../../assets/images/nft/members.png'"
                        class="me-2 membership-icon" />
                      <span>{{membership?.user_name}}</span>
                    </div>
                  </div>
                </ng-container>

              </span>
            </h6>
          </div>
        </div>
      </div>
      <div class="d-flex flex-wrap justify-content-center pb-sm-5 pb-4 profile-btns">
        <button routerLink="/edit-profile" class="btn btn-outline-secondary m-sm-2 m-1 fs-14 pxe-4">
          <img src="../../../assets/images/pages/create.png" class="me-3" />Edit
          Profile
        </button>

        <div class="btn-group dropup share-dropdown">
          <button class="btn m-sm-2 m-1 fs-14 pxe-4 share-btn" data-bs-toggle="dropdown" aria-expanded="false">
            <img src="../../../assets/images/pages/share.svg" class="me-3" />Share
          </button>

          <ul class="dropdown-menu">
            <li>
              <button class="dropdown-item" (click)="shareBYCopy(profileDetail?._id)">
                <img src="../../../assets/images/pages/copy_black.png" class="me-2" />Copy URL
              </button>
            </li>
            <li><a class="dropdown-item" (click)="sharefacebookUrl(profileDetail?._id)">Facebook</a></li>
            <li><a class="dropdown-item" (click)="shareinstaUrl(profileDetail?._id)">Instagram</a></li>
            <li><a class="dropdown-item" (click)="sharemailUrl(profileDetail?._id)">E-mail</a></li>
          </ul>
        </div>
        <button class="btn btn-outline-secondary m-sm-2 m-1 fs-14 pxe-4" data-bs-toggle="modal"
          data-bs-target="#findFriendsModal">
          <img src="../../../assets/images/pages/finds_friends.svg" class="me-3" />Find Friends
        </button>
        <a routerLink="/verify-identity">
          <button class="btn btn-outline-secondary m-sm-2 m-1 fs-14 pxe-4">
            <i class="fas fa-user-check me-2"></i>Verify Identity
          </button>
        </a>
        <ng-container *ngIf="profileDetail?.personal_link">
          <button class="btn btn-outline-primary m-sm-2 m-1 px-5 fw-normal position-relative fs-14">
            <img src="../../../assets/images/pages/web_link.svg" class="web-link" />
            <span class="ps-sm-3">{{profileDetail?.personal_link}}</span>
          </button>
        </ng-container>

      </div>
    </div>
  </div>
  <section class="profile-page-view pb-5">
    <div class="container">
      <ul class="nav nav-pills mb-5 common-tabs justify-content-center" id="pills-tab" role="tablist">
        <li class="nav-item" role="presentation">
          <button class="nav-link active" id="pills-owned-tab" data-bs-toggle="pill" data-bs-target="#pills-owned"
            type="button" role="tab" aria-controls="pills-owned" aria-selected="true">
            <span>Owned</span>
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" (click)="getCreatedNft()" id="pills-created-tab" data-bs-toggle="pill"
            data-bs-target="#pills-created" type="button" role="tab" aria-controls="pills-created" aria-selected="true">
            <span>Created</span>
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="pills-collections-tab" data-bs-toggle="pill" data-bs-target="#pills-collections"
            type="button" role="tab" aria-controls="pills-collections" aria-selected="true">
            <span>Collections</span>
          </button>
        </li>

        <li class="nav-item" role="presentation">
          <button (click)="getLikedNft()" class="nav-link" id="pills-liked-tab" data-bs-toggle="pill"
            data-bs-target="#pills-liked" type="button" role="tab" aria-controls="pills-liked" aria-selected="false">
            <span>Liked</span>
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="pills-activity-tab" data-bs-toggle="pill" data-bs-target="#pills-activity"
            type="button" role="tab" aria-controls="pills-activity" aria-selected="false">
            <span>Activity</span>
          </button>
        </li>
      </ul>
      <div class="tab-content common-tabs-content pt-2" id="pills-tabContent">
        <div class="tab-pane fade show active" id="pills-owned" role="tabpanel" aria-labelledby="pills-owned-tab">
          <div class="marketplace  pb-md-3 pb-0">
            <div class="container">
              <div class="row">
                <div class="col-md-12">
                  <div class="d-flex align-items-center mb-4 pb-lg-3 flex-wrap">
                    <h2 class="title me-md-4 me-2">Owned</h2>
                    <div class="d-flex flex-wrap">
                      <div class="dropdown common-dropdown cat-dropdown">
                        <button class="btn btn-outline-secondary me-md-4 me-2 my-1" id="dropdownMenuButton1"
                          data-bs-toggle="dropdown" aria-expanded="false">
                          <img src="../../../assets/images/HomePage/category.svg" class="me-2" />
                          Category
                        </button>
                        <ul class="dropdown-menu " aria-labelledby="dropdownMenuButton1">
                          <div class="cat-list scrollable">
                            <li>
                              <label class="radio-container fw-semi-bold fs-14 my-0">
                                <input type="checkbox" />
                                <span class="checkmark"></span>
                                All
                              </label>
                            </li>
                          </div>
                        </ul>
                      </div>
                      <div class="dropdown common-dropdown cat-dropdown">
                        <button class="btn btn-outline-secondary me-md-4 me-2 my-1" id="dropdownMenuButton1"
                          data-bs-toggle="dropdown" aria-expanded="false">
                          <img src="../../../assets/images/HomePage/collection.svg" class="me-2" />
                          Collection
                        </button>
                        <ul class="dropdown-menu " aria-labelledby="dropdownMenuButton1">
                          <div class="cat-list scrollable pt-1">
                            <li *ngFor="let eachCollection of collections">
                              <label class="radio-container fw-semi-bold fs-14 my-0 d-flex align-items-center">
                                <input class="form-control" type="checkbox" />
                                <span class="checkmark"></span>
                                <img [src]="eachCollection.image" alt="collection_image" class=" cd-image me-2">
                                {{eachCollection.name}}
                              </label>
                            </li>
                          </div>
                        </ul>
                      </div>
                      <div class="dropdown common-dropdown price-dropdown">
                        <button class="btn btn-outline-secondary me-md-4 me-2 my-1" id="dropdownMenuButton1"
                          data-bs-toggle="dropdown" aria-expanded="false">
                          <img src="../../../assets/images/HomePage/price_range.svg" class="me-2" />
                          Price Range
                        </button>
                        <ul class="dropdown-menu " aria-labelledby="dropdownMenuButton1">
                          <div class="cat-list scrollable">
                            <li>
                              <div class="position-relative">
                                <select class="form-select shadow-none">
                                  <option>BNB</option>
                                  <option>Polygon</option>
                                </select>
                              </div>
                            </li>
                            <li>
                              <div class="row mx-0">
                                <div class="col ps-0 pe-2">
                                  <input type="text" placeholder="From" class="form-control text-center" />
                                </div>
                                <div class="col pe-0 ps-2">
                                  <input type="text" placeholder="To" class="form-control text-center" />
                                </div>
                              </div>
                              <div class="row mx-0 mt-4 pt-1">
                                <div class="col ps-0 pe-2">
                                  <button class="btn btn-primary w-100">Apply</button>
                                </div>
                                <div class="col pe-0 ps-2">
                                  <button class="btn btn-black w-100">Clear</button>
                                </div>
                              </div>
                            </li>
                          </div>
                        </ul>
                      </div>
                      <div class="dropdown common-dropdown cat-dropdown">
                        <button class="btn btn-outline-secondary me-md-4 me-2 my-1" id="dropdownMenuButton1"
                          data-bs-toggle="dropdown" aria-expanded="false">
                          <img src="../../../assets/images/HomePage/sort.svg" class="me-2" />
                          Sort
                        </button>
                        <ul class="dropdown-menu " aria-labelledby="dropdownMenuButton1">
                          <div class="cat-list scrollable">
                            <li>
                              <label class="radio-container fw-semi-bold fs-14 my-0">
                                <input type="checkbox" />
                                <span class="checkmark"></span>
                                Recently Added
                              </label>
                            </li>
                            <li>
                              <label class="radio-container fw-semi-bold fs-14 my-0">
                                <input type="checkbox" />
                                <span class="checkmark"></span>
                                Price: Low - High
                              </label>
                            </li>
                            <li>
                              <label class="radio-container fw-semi-bold fs-14 my-0">
                                <input type="checkbox" />
                                <span class="checkmark"></span>
                                Price: High - Low
                              </label>
                            </li>
                          </div>
                        </ul>
                      </div>
                    </div>

                  </div>
                </div>
              </div>

              <!-- <div class="text-center not-available">
                <h4>No Owned NFTs Are Available</h4>
              </div> -->
              <!-- loader -->
              <!-- <div class="d-flex justify-content-center mb-3">
                <div class="spinner-border " role="status">
                  <span class="sr-only">Loading...</span>
                </div>
              </div> -->

              <div class="row">
                <ng-container *ngFor="let nft of ownedNfts">
                  <div class="col-md-6 col-lg-4 col-xl-3 mb-4 pb-lg-3" routerLinkActive="router-link-active">
                    <div class="marketplace-box" [class]="nft.type==2?'multiple':''">
                      <div class="position-relative">
                        <img *ngIf="nft.media_type == 'image'" [src]="nft.file" class="marketplace-img"
                          [routerLink]="['/nft-details/' + nft._id]" />
                        <video *ngIf="nft.media_type == 'vedio'" width="320" height="240" controls
                          [routerLink]="['/nft-details/' + nft._id]" class="marketplace-img">
                          <source [src]="nft.file" type="video/mp4">
                        </video>
                        <div class="likes-count">
                          <span class="me-2 fw-semi-bold">{{nft.likes_count}}</span><img
                            (click)="likeUnlike(nft._id);nft.likes_count=nft.is_liked?nft.likes_count-1:nft.likes_count+1;nft.is_liked=!nft.is_liked"
                            [src]="nft.is_liked?'../../../assets/images/HomePage/favorite_fill.svg':'../../../assets/images/HomePage/favorite_outline.svg'" />
                        </div>
                      </div>
                      <div class="marketplace-content">
                        <div class="d-flex justify-content-between align-items-center mb-2">
                          <p class="text-gray mb-0">{{nft.collection_name}}</p>
                          <div class="dropdown marketplace-dropdown">
                            <button class="btn btn-icon" type="button" id="dropdownMenu2" data-bs-toggle="dropdown"
                              aria-expanded="false">
                              <img src="../../../assets/images/HomePage/three_dots.svg" />
                            </button>
                            <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdownMenu2">
                              <li>
                                <button
                                  (click)="makePrivate(nft._id,nft.is_private,true);;nft.is_private=!nft.is_private"
                                  class="dropdown-item" type="button">
                                  {{nft.is_private?'Make Public':'Make Private'}}
                                </button>
                              </li>
                              <li>
                                <button class="dropdown-item" type="button">
                                  Send As Gift
                                </button>
                              </li>
                              <button *ngIf="nft.no_of_copy != nft.no_of_copy_on_market_place" class="dropdown-item"
                                (click)="seleNftForResale(nft);selectedNftType=nft.type" data-bs-toggle="modal"
                                data-bs-target="#marketplaceListingModal">
                                List on Marketplace
                              </button>
                            </ul>
                          </div>
                        </div>
                        <p class="fw-bold text-nft-name">
                          {{nft.name}}
                        </p>
                        <div class="d-flex justify-content-between align-items-center mb-2 pb-2">
                          <p class="mb-0 fw-semi-bold">
                            {{nft.available}}/{{nft.no_of_copy}}
                          </p>
                          <button class="btn-icon fw-semi-bold text-green" *ngIf="!nft.is_private">
                            Public
                            <img src="../../../assets/images/nft/visibility.png" class="ms-1" />
                          </button>
                          <button class="btn-icon fw-semi-bold text-danger position-relative" *ngIf="nft.is_private">
                            Private
                            <img src="../../../assets/images/nft/visibility_off.svg" class="ms-1" />
                          </button>
                        </div>
                      </div>
                    </div>
                  </div>
                </ng-container>
              </div>
            </div>
          </div>
        </div>
        <div class="tab-pane fade" id="pills-created" role="tabpanel" aria-labelledby="pills-created-tab">
          <div class="marketplace  pb-md-3 pb-0">
            <div class="container">
              <div class="row">
                <div class="col-md-12">
                  <div class="d-flex align-items-center mb-4 pb-lg-3 flex-wrap">
                    <h2 class="title me-md-4 me-2">Created</h2>
                    <div class="d-flex flex-wrap">
                      <div class="dropdown common-dropdown cat-dropdown">
                        <button class="btn btn-outline-secondary me-md-4 me-2 my-1" id="dropdownMenuButton1"
                          data-bs-toggle="dropdown" aria-expanded="false">
                          <img src="../../../assets/images/HomePage/category.svg" class="me-2" />
                          Category
                        </button>
                        <ul class="dropdown-menu " aria-labelledby="dropdownMenuButton1">
                          <div class="cat-list scrollable">
                            <li>
                              <label class="radio-container fw-semi-bold fs-14 my-0">
                                <input type="checkbox" />
                                <span class="checkmark"></span>
                                All
                              </label>
                            </li>
                            <li>
                              <label class="radio-container fw-semi-bold fs-14 my-0">
                                <input type="checkbox" />
                                <span class="checkmark"></span>
                                Art
                              </label>
                            </li>
                            <li>
                              <label class="radio-container fw-semi-bold fs-14 my-0">
                                <input type="checkbox" />
                                <span class="checkmark"></span>
                                Photography
                              </label>
                            </li>
                            <li>
                              <label class="radio-container fw-semi-bold fs-14 my-0">
                                <input type="checkbox" />
                                <span class="checkmark"></span>
                                Games
                              </label>
                            </li>
                            <li>
                              <label class="radio-container fw-semi-bold fs-14 my-0">
                                <input type="checkbox" />
                                <span class="checkmark"></span>
                                Metaverses
                              </label>
                            </li>
                            <li>
                              <label class="radio-container fw-semi-bold fs-14 my-0">
                                <input type="checkbox" />
                                <span class="checkmark"></span>
                                Music
                              </label>
                            </li>
                          </div>
                          <li class="mt-3">
                            <button class="btn btn-primary w-100">Apply</button>
                          </li>
                          <li>
                            <button class="btn btn-black w-100">Cancel</button>
                          </li>
                        </ul>
                      </div>
                      <div class="dropdown common-dropdown cat-dropdown">
                        <button class="btn btn-outline-secondary me-md-4 me-2 my-1" id="dropdownMenuButton1"
                          data-bs-toggle="dropdown" aria-expanded="false">
                          <img src="../../../assets/images/HomePage/collection.svg" class="me-2" />
                          Collection
                        </button>
                        <ul class="dropdown-menu " aria-labelledby="dropdownMenuButton1">
                          <div class="cat-list scrollable pt-1">
                            <li>
                              <label class="radio-container fw-semi-bold fs-14 my-0 d-flex align-items-center">
                                <input type="checkbox" />
                                <span class="checkmark"></span>
                                <!-- <img [src]="eachCollection.image" alt="collection_image" class=" cd-image me-2"> -->
                                collection
                              </label>
                            </li>
                          </div>
                          <li class="mt-3">
                            <button class="btn btn-primary w-100">Apply</button>
                          </li>
                          <li>
                            <button class="btn btn-black w-100">Cancel</button>
                          </li>
                        </ul>
                      </div>
                      <div class="dropdown common-dropdown price-dropdown">
                        <button class="btn btn-outline-secondary me-md-4 me-2 my-1" id="dropdownMenuButton1"
                          data-bs-toggle="dropdown" aria-expanded="false">
                          <img src="../../../assets/images/HomePage/price_range.svg" class="me-2" />
                          Price Range
                        </button>
                        <ul class="dropdown-menu " aria-labelledby="dropdownMenuButton1">
                          <div class="cat-list scrollable">
                            <li>
                              <div class="position-relative">
                                <select class="form-select shadow-none">
                                  <option>BNB</option>
                                  <option>Polygon</option>
                                </select>
                              </div>
                            </li>
                            <li>
                              <div class="row mx-0">
                                <div class="col ps-0 pe-2">
                                  <input type="text" placeholder="From" class="form-control text-center" />
                                </div>
                                <div class="col pe-0 ps-2">
                                  <input type="text" placeholder="To" class="form-control text-center" />
                                </div>
                              </div>
                              <div class="row mx-0 mt-4 pt-1">
                                <div class="col ps-0 pe-2">
                                  <button class="btn btn-primary w-100">Apply</button>
                                </div>
                                <div class="col pe-0 ps-2">
                                  <button class="btn btn-black w-100">Clear</button>
                                </div>


                              </div>
                            </li>

                          </div>
                        </ul>
                      </div>
                      <div class="dropdown common-dropdown cat-dropdown">
                        <button class="btn btn-outline-secondary me-md-4 me-2 my-1" id="dropdownMenuButton1"
                          data-bs-toggle="dropdown" aria-expanded="false">
                          <img src="../../../assets/images/HomePage/sort.svg" class="me-2" />
                          Sort
                        </button>
                        <ul class="dropdown-menu " aria-labelledby="dropdownMenuButton1">
                          <div class="cat-list scrollable">
                            <li>
                              <label class="radio-container fw-semi-bold fs-14 my-0">
                                <input type="checkbox" />
                                <span class="checkmark"></span>
                                Recently Added
                              </label>
                            </li>
                            <li>
                              <label class="radio-container fw-semi-bold fs-14 my-0">
                                <input type="checkbox" />
                                <span class="checkmark"></span>
                                Price: Low - High
                              </label>
                            </li>
                            <li>
                              <label class="radio-container fw-semi-bold fs-14 my-0">
                                <input type="checkbox" />
                                <span class="checkmark"></span>
                                Price: High - Low
                              </label>
                            </li>
                            <li>
                              <label class="radio-container fw-semi-bold fs-14 my-0">
                                <input type="checkbox" />
                                <span class="checkmark"></span>
                                Verified Only
                              </label>
                            </li>
                            <li>
                              <label class="radio-container fw-semi-bold fs-14 my-0">
                                <input type="checkbox" />
                                <span class="checkmark"></span>
                                Auction Ending Soon
                              </label>
                            </li>
                          </div>
                          <li class="mt-3">
                            <button class="btn btn-primary w-100">Apply</button>
                          </li>
                          <li>
                            <button class="btn btn-black w-100">Cancel</button>
                          </li>
                        </ul>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- <div class="text-center not-available">
                <h4>No Created NFTs Are Available</h4>
              </div> -->
              <!-- loader -->
              <!-- <div class="d-flex justify-content-center mb-3">
                <div class="spinner-border " role="status">
                  <span class="sr-only">Loading...</span>
                </div>
              </div> -->

              <div class="row">
                <ng-container *ngFor="let nft of createdNfts">
                  <div class="col-md-6 col-lg-4 col-xl-3 mb-4 pb-lg-3">
                    <div class="marketplace-box">
                      <div class="position-relative">
                        <img [src]="nft.file?nft.file:'../../../assets/images/HomePage/nft_placeholder.png'"
                          class="marketplace-img" />
                        <div class="likes-count">
                          <span class="me-2 fw-semi-bold">{{nft.likes_count}}</span><img
                            (click)="likeUnlike(nft._id);nft.likes_count=nft.is_liked?nft.likes_count-1:nft.likes_count+1;nft.is_liked=!nft.is_liked"
                            [src]="nft.is_liked?'../../../assets/images/HomePage/favorite_fill.svg':'../../../assets/images/HomePage/favorite_outline.svg'" />
                        </div>
                      </div>
                      <div class="marketplace-content">
                        <div class="d-flex justify-content-between align-items-center mb-2">
                          <p class="text-gray mb-0">{{nft.collection_name ? nft.collection_name : 'Collection Name'}}
                          </p>
                          <!-- <button class="btn-icon">
                          <img src="../../../assets/images/HomePage/three_dots.svg" />
                        </button> -->
                          <div class="dropdown marketplace-dropdown">
                            <button class="btn btn-icon" type="button" id="dropdownMenu2" data-bs-toggle="dropdown"
                              aria-expanded="false">
                              <img src="../../../assets/images/HomePage/three_dots.svg" />
                            </button>
                            <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdownMenu2">
                              <li>
                                <button (click)="makePrivate(nft._id,nft.is_private);nft.is_private=!nft.is_private"
                                  class="dropdown-item" type="button">
                                  {{nft.is_private?'Make Public':'Make Private'}}
                                </button>
                              </li>
                              <li>
                                <button class="dropdown-item" type="button">
                                  Send As Gift
                                </button>
                              </li>
                            </ul>
                          </div>
                        </div>
                        <p class="fw-bold text-nft-name">
                          {{nft.name}}
                        </p>
                        <div class="d-flex justify-content-between align-items-center mb-2 pb-2">
                          <p class="mb-0 fw-semi-bold">
                            <img src="../../../assets/images/nft/polygon_matic.png" class="me-2  w-19" />{{nft.price}}
                            MATIC
                          </p>
                          <button class="btn-icon fw-semi-bold text-green" *ngIf="!nft.is_private">
                            Public
                            <img src="../../../assets/images/nft/visibility.png" class="ms-1" />
                          </button>
                          <button class="btn-icon fw-semi-bold text-green text-danger" *ngIf="nft.is_private">
                            Private
                            <img src="../../../assets/images/nft/visibility_off.svg" class="ms-1" />
                          </button>
                        </div>
                      </div>
                    </div>
                  </div>
                </ng-container>

              </div>
            </div>
          </div>
        </div>
        <div class="tab-pane fade" id="pills-collections" role="tabpanel" aria-labelledby="pills-collections-tab">
          <h2 class="title me-md-4 me-2 mb-4 pb-lg-3">Collections</h2>
          <!-- loader -->
          <!-- <div class="d-flex justify-content-center mb-3">
            <div class="spinner-border " role="status">
              <span class="sr-only">Loading...</span>
            </div>
          </div> -->

          <div class="row">
            <div class="col-md-6 col-lg-4 col-xl-3 mb-4 pb-lg-3" *ngFor="let eachCollection of collections">
              <div class="marketplace-box">
                <div class="position-relative">
                  <img
                    [src]="eachCollection.image ? eachCollection.image : '../../../assets/images/HomePage/nft_placeholder.png'"
                    class="marketplace-img" />
                  <div class="likes-count">
                    <span class="me-2 fw-semi-bold">2</span><img
                      [src]="'../../../assets/images/HomePage/favorite_outline.svg'" />
                  </div>
                </div>
                <div class="marketplace-content pb-3">
                  <h6 class="text-black fw-bold mb-0 mt-2">{{eachCollection.name}}</h6>
                  <div class="mt-4 pb-3">
                    <a [routerLink]="['/collection-details/' + eachCollection._id]"
                      routerLinkActive="router-link-active">
                      <button class="btn btn-outline-secondary w-100">View more</button>
                    </a>
                  </div>
                </div>
              </div>
            </div>
            <div class="text-center not-available" *ngIf="collections.length == 0">
              <h4>No Collections Are Available</h4>
            </div>
            <!-- loader -->
            <!-- <div class="d-flex justify-content-center mb-3">
              <div class="spinner-border " role="status">
                <span class="sr-only">Loading...</span>
              </div>
            </div> -->
          </div>
        </div>
        <div class="tab-pane fade" id="pills-liked" role="tabpanel" aria-labelledby="pills-liked-tab">
          <h2 class="title me-md-4 me-2 mb-lg-5 mb-4">Liked</h2>
          <!-- loader -->
          <!-- <div class="d-flex justify-content-center mb-3">
            <div class="spinner-border " role="status">
              <span class="sr-only">Loading...</span>
            </div>
          </div> -->

          <div class="row">
            <ng-container *ngFor="let nft of likedNfts">
              <div class="col-md-6 col-lg-4 col-xl-3 mb-4 pb-lg-3">
                <div class="marketplace-box">
                  <div class="position-relative">
                    <img [src]="nft.file?nft.file:'../../../assets/images/HomePage/nft_placeholder.png'"
                      class="marketplace-img" />
                    <div class="likes-count">
                      <span class="me-2 fw-semi-bold">{{nft.likes_count}}</span><img
                        (click)="likeUnlike(nft._id);nft.likes_count=nft.is_liked?nft.likes_count-1:nft.likes_count+1;nft.is_liked=!nft.is_liked"
                        [src]="nft.is_liked?'../../../assets/images/HomePage/favorite_fill.svg':'../../../assets/images/HomePage/favorite_outline.svg'" />
                    </div>
                  </div>
                  <div class="marketplace-content">
                    <div class="d-flex justify-content-between align-items-center mb-2">
                      <p class="text-gray mb-0">{{nft.collection_name ? nft.collection_name : 'Collection Name'}}</p>
                      <div class="dropdown marketplace-dropdown">
                        <button class="btn btn-icon" type="button" id="dropdownMenu2" data-bs-toggle="dropdown"
                          aria-expanded="false">
                          <img src="../../../assets/images/HomePage/three_dots.svg" />
                        </button>
                        <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdownMenu2">
                          <li>
                            <button (click)="makePrivate(nft._id,nft.is_private);;nft.is_private=!nft.is_private"
                              class="dropdown-item" type="button">
                              {{nft.is_private?'Make Public':'Make Private'}}
                            </button>
                          </li>
                          <li>
                            <button class="dropdown-item" type="button">
                              Send As Gift
                            </button>
                          </li>
                        </ul>
                      </div>
                    </div>
                    <p class="fw-bold text-nft-name">
                      {{nft.name}}
                    </p>
                    <div class="d-flex justify-content-between align-items-center mb-2">
                      <p class="mb-0 fw-semi-bold">
                        <img src="../../../assets/images/nft/polygon_matic.png" class="me-2 w-19" />{{nft.price}} MATIC
                      </p>
                      <button class="btn-icon fw-semi-bold text-green" *ngIf="!nft.is_private">
                        Public
                        <img src="../../../assets/images/nft/visibility.png" class="ms-1" />
                      </button>
                      <button class="btn-icon fw-semi-bold text-danger position-relative" *ngIf="nft.is_private">
                        Private
                        <img src="../../../assets/images/nft/visibility_off.svg" class="ms-1" />
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </ng-container>
            <!-- <div class="text-center not-available">
              <h4>No Liked NFTs Are Available</h4>
            </div> -->
            <!-- loader -->
            <!-- <div class="d-flex justify-content-center mb-3">
              <div class="spinner-border " role="status">
                <span class="sr-only">Loading...</span>
              </div>
            </div> -->
          </div>
        </div>
        <div class="tab-pane fade" id="pills-activity" role="tabpanel" aria-labelledby="pills-activity-tab">
          <h2 class="title me-md-4 me-2">Activity</h2>
          <div class="text-center not-available">
            <h4>No Activity is Available</h4>
          </div>
          <!-- loader -->
          <div class="d-flex justify-content-center mb-3">
            <div class="spinner-border " role="status">
              <span class="sr-only">Loading...</span>
            </div>
          </div>
          <!-- activity -->
          <div class="container">
            <div class="row gy-4" *ngFor="let eachActivity of activities">
              <!-- *ngIf="eachActivity?.type == 'NFT_COMMENT'" -->
              <div class="col-md-12">
                <div class="d-flex activity-main">
                  <div class="activity-img">
                    <img [src]="eachActivity?.image ? eachActivity?.image : '../../../assets/images/pages/activity_one.png'"
                      alt="img">
                    <div class="profile-img">
                      <img [src]="eachActivity?.activity_by_profile_pic ? 'https://nftwistblob.blob.core.windows.net/original/' +  eachActivity?.activity_by_profile_pic : '../../../assets/images/pages/user.png'" alt="img">
                    </div>
                  </div>
                  <div class="px-5 py-5 activity-text w-100">
                    <div class="d-flex justify-content-between py-3 flex-wrap">
                      <p class="m-0"><span class="fw-bold">{{eachActivity?.activity_by_first_name}}
                        {{eachActivity?.activity_by_last_name}} </span>Commented on <span class="fw-bold">{{eachActivity.nft_name}}</span>
                        NFT</p>
                      <p class="m-0">{{eachActivity?.created_at | date: 'dd/MM/YYYY'}}</p>
                    </div>

                  </div>
                </div>
                <!-- <div class="d-flex activity-main">
                  <div class="activity-img">
                    <img
                    [src]="eachActivity?.image ? eachActivity?.image : '../../../assets/images/pages/activity_one.png'"
                    />
                    <div class="profile-img">
                      <img
                        [src]="eachActivity?.activity_by_profile_pic ? 'https://nftwistblob.blob.core.windows.net/original/' + eachActivity?.activity_by_profile_pic : '../../../assets/images/pages/user.png'" />
                    </div>
                  </div>
                  <div class="px-5 py-5 activity-text w-100">
                    <div class="d-flex justify-content-between py-3 flex-wrap">
                      <p class="mb-0 text-gray fs-12">
                        <b class="text-black">{{eachActivity?.activity_by_first_name}}
                          {{eachActivity?.activity_by_last_name}}</b> purchased your NFT.
                      </p>
                      <p class="m-0">{{eachActivity?.created_at | date: 'dd/MM/YYYY'}}</p>
                    </div>

                  </div> -->
              </div>
              <!--  *ngIf="eachActivity?.type == 'FOLLOW'" -->
              <div class="col-md-12">
                <div class="d-flex gap-4 align-items-center px-4 followed-activity py-4 px-5">
                  <div>
                    <img [src]="eachActivity?.activity_by_profile_pic ? 'https://nftwistblob.blob.core.windows.net/original/' + eachActivity?.activity_by_profile_pic : '../../../assets/images/pages/user.png'" alt="img">
                  </div>
                  <div class="d-flex w-100 justify-content-between flex-wrap mt-4">
                    <div>
                      <p class="m-0"><span class="fw-bold">{{eachActivity?.activity_by_first_name}}
                        {{eachActivity?.activity_by_last_name}}</span> followed <span class="fw-bold">Neovichx</span>
                      </p>
                    </div>
                    <div>
                      <p class="m-0">{{eachActivity.created_at | date: 'dd/MM/YYYY'}}</p>
                    </div>

                  </div>
                </div>
              </div>
              <!-- *ngIf="eachActivity?.type == 'NFT_LIKE'" -->
              <div class="col-md-12">
                <div class="d-flex activity-main">
                  <div class="activity-img">
                    <img [src]="eachActivity?.image ? eachActivity?.image : '../../../assets/images/pages/activity_one.png'"
                      alt="img">
                    <div class="profile-img">
                      <img [src]="eachActivity?.activity_by_profile_pic ? 'https://nftwistblob.blob.core.windows.net/original/' +  eachActivity?.activity_by_profile_pic : '../../../assets/images/pages/user.png'" alt="img">
                    </div>
                  </div>
                  <div class="px-5 py-5 activity-text w-100">
                    <div class="d-flex justify-content-between py-3 flex-wrap">
                      <p class="m-0"><span class="fw-bold">{{eachActivity?.activity_by_first_name}}
                        {{eachActivity?.activity_by_last_name}} </span>Liked <span class="fw-bold">Neovichx</span>
                        NFT</p>
                      <p class="m-0">{{eachActivity?.created_at | date: 'dd/MM/YYYY'}}</p>
                    </div>

                  </div>
                </div>
              </div>
              <!-- *ngIf="eachActivity.type == 'NFT_GIFT'" -->
              <div class="col-md-12">
                <div class="d-flex activity-main">
                  <div class="activity-img">
                    <img
                    [src]="eachActivity?.image ? eachActivity?.image : '../../../assets/images/pages/activity_one.png'"
                    />
                    <div class="profile-img">
                      <img
                        [src]="eachActivity?.activity_by_profile_pic ? 'https://nftwistblob.blob.core.windows.net/original/' + eachActivity?.activity_by_profile_pic : '../../../assets/images/pages/user.png'" />
                    </div>
                  </div>
                  <div class="px-5 py-5 activity-text w-100">
                    <div class="d-flex justify-content-between py-3 flex-wrap">
                      <p class="m-0"><span class="fw-bold">{{eachActivity?.activity_by_first_name}}
                        {{eachActivity?.activity_by_last_name}}</span> Gifted<span class="fw-bold"> Neovichx</span> 3
                        NFTs.</p>
                      <p class="m-0">{{eachActivity?.created_at | date: 'dd/MM/YYYY'}}</p>
                    </div>

                  </div>
                </div>
              </div>
              <!-- *ngIf="eachActivity.type == 'NFT_CREATED'" -->
              <div class="col-md-12">
                <div class="d-flex activity-main">
                  <div class="activity-img">
                    <img
                    [src]="eachActivity?.image ? eachActivity?.image : '../../../assets/images/pages/activity_one.png'"
                    />
                    <div class="profile-img">
                      <img
                        [src]="eachActivity?.activity_by_profile_pic ? 'https://nftwistblob.blob.core.windows.net/original/' + eachActivity?.activity_by_profile_pic : '../../../assets/images/pages/user.png'" />
                    </div>
                  </div>
                  <div class="px-5 py-5 activity-text w-100">
                    <div class="d-flex justify-content-between py-3 flex-wrap">
                      <p class="mb-0 text-gray fs-12">
                        <b class="text-black">{{eachActivity?.activity_by_first_name}}
                          {{eachActivity?.activity_by_last_name}}</b> created {{eachActivity.nft_name}} NFT.
                      </p>
                      <p class="m-0">{{eachActivity?.created_at | date: 'dd/MM/YYYY'}}</p>
                    </div>

                  </div>
                </div>
              </div>
              <!-- *ngIf="eachActivity.type == 'NFT_COMMENT_LIKE'" -->
              <div class="col-md-12">
                <div class="d-flex activity-main">
                  <div class="activity-img">
                    <img
                    [src]="eachActivity?.image ? eachActivity?.image : '../../../assets/images/pages/activity_one.png'"
                    />
                    <div class="profile-img">
                      <img
                        [src]="eachActivity?.activity_by_profile_pic ? 'https://nftwistblob.blob.core.windows.net/original/' + eachActivity?.activity_by_profile_pic : '../../../assets/images/pages/user.png'" />
                    </div>
                  </div>
                  <div class="px-5 py-5 activity-text w-100">
                    <div class="d-flex justify-content-between py-3 flex-wrap">
                      <p class="mb-0 text-gray fs-12">
                        <b class="text-black">{{eachActivity?.activity_by_first_name}}
                          {{eachActivity?.activity_by_last_name}}</b> like comment of your NFT.
                      </p>
                      <p class="m-0">{{eachActivity?.created_at | date: 'dd/MM/YYYY'}}</p>
                    </div>

                  </div>
                </div>
         
              </div>
              <!-- *ngIf="eachActivity.type == 'NFT_PURCHASED'" -->
              <div class="col-md-12">
                <div class="d-flex activity-main">
                  <div class="activity-img">
                    <img
                    [src]="eachActivity?.image ? eachActivity?.image : '../../../assets/images/pages/activity_one.png'"
                    />
                    <div class="profile-img">
                      <img
                        [src]="eachActivity?.activity_by_profile_pic ? 'https://nftwistblob.blob.core.windows.net/original/' + eachActivity?.activity_by_profile_pic : '../../../assets/images/pages/user.png'" />
                    </div>
                  </div>
                  <div class="px-5 py-5 activity-text w-100">
                    <div class="d-flex justify-content-between py-3 flex-wrap">
                      <p class="mb-0 text-gray fs-12">
                        <b class="text-black">{{eachActivity?.activity_by_first_name}}
                          {{eachActivity?.activity_by_last_name}}</b> purchased your NFT.
                      </p>
                      <p class="m-0">{{eachActivity?.created_at | date: 'dd/MM/YYYY'}}</p>
                    </div>

                  </div>
                </div>
              </div>
              
            </div>
            <button class="btn btn-outline-secondary w-100 py-3 d-flex justify-content-center align-items-center mt-5 ">
            <span>Load More</span>
            <!-- <span class="spinner-border spn ms-2" role="status">
              <span class="sr-only">Loading...</span>
            </span> -->
          </button>
          </div>
        </div>
      </div>
    </div>
  </section>
</div>

<div class="modal fade common-modal" id="findFriendsModal" tabindex="-1" aria-labelledby="findFriendsModalLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-body">
        <button class="close-btn btn-icon" #closeFrendsModal data-bs-toggle="modal" data-bs-target="#findFriendsModal">
          <img src="../../../assets/images/pages/close.svg" />
        </button>
        <div class="common-modal-content">
          <h3 class="fw-bold">Find Friends</h3>
          <p class="text-gray my-md-4 my-3">
            Lets help you find the people you care about. Enter their name,
            e-mail address, or phone number below and well have a look for you!
          </p>
          <div class="form-group position-relative">
            <input type="search" (keyup)="findFriends($event)" (search)="findFriends($event)"
              class="form-control position-relative ps-5" placeholder="Name, e-mail address, or phone number" />
            <img src="../../../assets/images/HomePage/search.svg" class="img-fluid find-search" />
          </div>
          <div class="friends-results">
            <p class="fw-bold text-center">
              <ng-container *ngIf="!userList?.length">
                <span> <img src="../../../assets/images/pages/search_grey_large.svg" /></span>
              </ng-container>
              <!-- Search Results -->
            </p>
            <p class="text-center fw-bold" *ngIf="userList?.length">Search Results</p>
            <div class="friends-results-list">

              <ng-container *ngFor="let user of userList">
                <div class="marketplace-box activities">

                  <div class="d-flex align-items-center flex-column flex-sm-row">
                    <div class="activity-img-1">
                      <img
                        [src]="user.cover_image?baseImgUrl+user.cover_image:'../../../assets/images/pages/activity_one.png'"
                        class="activity-img" />
                    </div>
                    <div class="d-flex align-items-center act-content flex-grow-1">
                      <div class="activity-user">
                        <img
                          [src]="user.profile_pic?baseImgUrl+user.profile_pic:'../../../assets/images/pages/user.png'"
                          class="img-fluid" />
                      </div>
                      <div
                        class="ms-2 d-flex justify-content-between align-items-center flex-grow-1 flex-column flex-sm-row">
                        <h6 class="fw-bold mb-sm-0">{{user.first_name}} {{user.last_name}}</h6>
                        <button class="btn btn-outline-secondary" (click)="closeFrendsModal.click()"
                          [routerLink]="['/user-profile',user._id]">
                          <img src="../../../assets/images/pages/view.svg" class="me-sm-3 me-2 fs-14" />View
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
              </ng-container>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="modal fade common-modal chnge-pass" id="changePasswordModal" tabindex="-1"
  aria-labelledby="changePasswordLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <form [formGroup]="changePassForm" (submit)="changePassword(closePassModal)">
        <div class="modal-body">
          <button class="close-btn btn-icon" type="button" data-bs-toggle="modal" #closePassModal
            data-bs-target="#changePasswordModal">
            <img src="../../../assets/images/pages/close.svg" />
          </button>
          <div class="common-modal-content">
            <h3 class="fw-bold mb-4">Change Password</h3>

            <div class="form-group position-relative">
              <input type="{{oldPasswordInputType}}" formControlName="old_password"
                class="form-control position-relative" placeholder="Old  Password" />
              <div class="input-group-append">
                <span class="visible-password position-absolute" id="basic-addon1"
                  *ngIf="oldPasswordInputType == 'password'" (click)="oldPasswordInputType = 'text'">
                  <i class="fa fa-eye-slash" aria-hidden="true"></i>
                </span>
                <span class="visible-password position-absolute" id="basic-addon2"
                  *ngIf="oldPasswordInputType == 'text'" (click)="oldPasswordInputType = 'password'">
                  <i class="fa fa-eye" aria-hidden="true"></i>
                </span>
              </div>
            </div>
            <div class="form-group position-relative">
              <input type="{{newPasswordInputType}}" formControlName="new_password"
                class="form-control position-relative" placeholder="New  Password" />
              <div class="input-group-append">
                <span class="visible-password position-absolute" id="basic-addon1"
                  *ngIf="newPasswordInputType == 'password'" (click)="newPasswordInputType = 'text'">
                  <i class="fa fa-eye-slash" aria-hidden="true"></i>
                </span>
                <span class="visible-password position-absolute" id="basic-addon2"
                  *ngIf="newPasswordInputType == 'text'" (click)="newPasswordInputType = 'password'">
                  <i class="fa fa-eye" aria-hidden="true"></i>
                </span>
              </div>
            </div>
            <div class="form-group position-relative">
              <input type="{{confirmPasswordInputType}}" formControlName="confirm_password"
                class="form-control position-relative" placeholder="Confirm  Password" />
              <div class="input-group-append">
                <span class="visible-password position-absolute" id="basic-addon1"
                  *ngIf="confirmPasswordInputType == 'password'" (click)="confirmPasswordInputType = 'text'">
                  <i class="fa fa-eye-slash" aria-hidden="true"></i>
                </span>
                <span class="visible-password position-absolute" id="basic-addon2"
                  *ngIf="confirmPasswordInputType == 'text'" (click)="confirmPasswordInputType = 'password'">
                  <i class="fa fa-eye" aria-hidden="true"></i>
                </span>
              </div>

            </div>
            <span class="text-danger"
              *ngIf="isSubmited && changePassForm?.value.new_password != changePassForm?.value.confirm_password">
              confirm password should be same as new password
            </span>
            <div class="form-group">
              <button class="btn btn-primary mt-3 w-100" type="submit"
                [disabled]="changePassForm.invalid ||isLoading">Change Password</button>
            </div>
          </div>
        </div>
      </form>


    </div>
  </div>
</div>

<div class="modal fade common-modal marketplace-modal" id="marketplaceListingModal" tabindex="-1"
  aria-labelledby="marketplaceListingLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <ng-container>
        <div class="loader" *ngIf="isLoader">
          <div class="spinner-border text-dark" role="status">
            <span class="visually-hidden">Loading...</span>
          </div>
        </div>
      </ng-container>
      <div class="modal-body">
        <button class="close-btn btn-icon" type="button" #listingModalClose data-bs-toggle="modal"
          data-bs-target="#marketplaceListingModal">
          <img src="../../../assets/images/pages/close.svg" />
        </button>
        <div class="common-modal-content">
          <h3 class="fw-bold mb-4">List On Marketplace</h3>
          <ng-container *ngIf="selectedNftType==2">
            <div class="form-group">
              <label class="fw-semi-bold">No. of Copies</label>
              <input [(ngModel)]="selectedQuantity" type="text" class="form-control" placeholder="Enter No." />
            </div>
          </ng-container>

          <div class="form-group">
            <label class="fw-semi-bold">Price</label>
            <input [(ngModel)]="priceForResale" type="text" class="form-control" placeholder="Enter Price" />
          </div>
          <div>
            <button class="btn btn-primary mt-3 w-100" (click)="putNftOnMarketPlace(listingModalClose)"
              type="button">Submit</button>
          </div>
        </div>
      </div>

    </div>
  </div>
</div>